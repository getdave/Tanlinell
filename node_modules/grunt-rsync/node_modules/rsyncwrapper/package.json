{
  "name": "rsyncwrapper",
  "version": "0.0.11",
  "description": "An async wrapper to the rsync command line utility for Node.js.",
  "main": "lib/rsyncwrapper",
  "repository": {
    "type": "git",
    "url": "git://github.com/jedrichards/rsyncwrapper.git"
  },
  "homepage": "https://github.com/jedrichards/rsyncwrapper",
  "bugs": "https://github.com/jedrichards/rsyncwrapper/issues",
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "lodash": "~0.9.1"
  },
  "devDependencies": {
    "grunt": "~0.3.0",
    "grunt-contrib-clean": "~0.3.0",
    "vows": "~0.6.0",
    "grunt-vows": "~0.2.0",
    "grunt-shell": "~0.1.0"
  },
  "keywords": [
    "rsync",
    "command line utility wrapper",
    "async",
    "syncing",
    "copying",
    "file manipulation",
    "remote",
    "ssh"
  ],
  "author": {
    "name": "Jed Richards",
    "email": "jed@seisaku.co.uk"
  },
  "license": "MIT",
  "engines": {
    "node": ">=0.8.0"
  },
  "readme": "## rsyncwrapper\n\nAn async wrapper to the rsync command line utility for Node.js.\n\n### Prerequisites\n\nA reasonably modern version of rsync (>=2.6.9) in your PATH.\n\n### Installation\n\n    $ npm install rsyncwrapper\n\n### Usage\n\n```javascript\nvar rsync = require(\"rsyncwrapper\").rsync;\nrsync(options,[callback]);\n```\n\nThe `callback` function gets four arguments `(error,stdout,stderr,cmd)`.\n\n`error`: An `Error` object if rsync failed, otherwise `null`.\n\n`stdout`: stdout from rsync.\n\n`stderr`: stderr from rsync.\n\n`cmd`: The command string that was used to invoke rsync for debugging purposes.\n\nThe `options` argument is an object literal with the following possible fields:\n\n```javascript\n{\n    src: \"some/path\",           // Required string, path to file or dir to copy.\n    dest: \"some/path\",          // Required string, path to copy destination.\n    host: \"user@host\",          // Optional string, remote host to prefix to dest if copying over\n                                // ssh. Needs public/private key passwordless ssh access to your\n                                // host to be working on your workstation.\n    port: \"1234\",               // If your SSH host uses a non standard SSH port then set it here.\n    recursive: true,            // Optional boolean, recursively copy dirs, sub-dirs and files. Only\n                                // files in the root of src are copied unless this option is true.\n    syncDest: true,             // Optional boolean, delete objects in dest that aren't present\n                                // in src. Take care with this option, since misconfiguration\n                                // could cause data loss. Maybe dryRun first?\n    compareMode: \"checksum\",    // Optional string, adjust the way rsync determines if files need\n                                // copying. By default rsync will check using file mod date and size.\n                                // Set this option to \"checksum\" to use a 128bit checksum to check\n                                // if a file has changed, or \"sizeOnly\" to only use a file's size.\n    exclude: [\"*.txt\"],         // Optional array of rsync patterns to exclude from the operation.\n    dryRyn: false,              // Optional boolen, if true rsync will output verbose info to stdout\n                                // about the actions it would take but does not modify the filesystem.\n    args: [\"--verbose\"]         // Optional array of any additional rsync args you'd like to include.\n}\n```\n\nThe above options are provided for convenience and are designed to cover the most common use cases for rsync, they don't necessarily map directly to single rsync arguments with the same names. If you'd like to handcraft your rsync command then just use the `src`, `dest` and `args` options.\n\nFor extra information and subtlety relating to rsync options please consult the [rsync manpages](http://linux.die.net/man/1/rsync).\n\n### Tests\n\nBasic tests are run on [Vows Async BDD](http://vowsjs.org/) via this package's Gruntfile. To test rsyncwrapper clone the repo and ensure that the devDependancies are present. Additionally ensure that Grunt and Vows are installed globally, and then invoke:\n\n    $ npm test\n\n### Examples\n\nCopy a single file to another location. If the `dest` folder doesn't exist rsync will do a `mkdir` and create it. However it will only `mkdir` one missing directory deep (i.e. not the equivalent of `mkdir -p`).\n\n```javascript\nrsync({\n    src: \"./file.txt\",\n    dest: \"./tmp/file.txt\"\n},function (error,stdout,stderr,cmd) {\n    if ( error ) {\n        // failed\n        console.log(error.message);\n    } else {\n        // success\n    }\n});\n```\n\nCopy the contents of a directory to another folder, while excluding `txt` files. Note the trailing `/` on the `src` folder and the absence of a trailing `/` on the `dest` folder - this is the required format when copy the contents of a folder. Again rsync will only `mkdir` one level deep:\n\n```javascript\nrsync({\n    src: \"./src-folder/\",\n    dest: \"./dest-folder\",\n    recursive: true,\n    exclude: [\"*.txt\"]\n},function (error,stdout,stderr,cmd) {\n    if ( error ) {\n        // failed\n        console.log(error.message);\n    } else {\n        // success\n    }\n});\n```\n\nSyncronise the contents of a directory on a remote host with the contents of a local directory using the checksum algorithm to determine if a file needs copying:\n\n```javascript\nrsync({\n    src: \"./local-src/\",\n    dest: \"/var/www/remote-dest\",\n    host: \"user@1.2.3.4\",\n    recursive: true,\n    syncDest: true,\n    compareMode: \"checksum\"\n},function (error,stdout,stderr,cmd) {\n    if ( error ) {\n        // failed\n        console.log(error.message);\n    } else {\n        // success\n    }\n});\n```\n\n## TODO\n\n- Add tests to cover usage of more options.",
  "readmeFilename": "README.md",
  "_id": "rsyncwrapper@0.0.11",
  "_from": "rsyncwrapper@~0.0.11"
}
